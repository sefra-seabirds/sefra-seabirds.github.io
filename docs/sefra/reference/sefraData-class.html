<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class containing input data for model run — sefraData-class • sefra</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class containing input data for model run — sefraData-class"><meta name="description" content="This is an S4 object that extends the list base type. It represents an object suitable for input into a sefraModel model run."><meta property="og:description" content="This is an S4 object that extends the list base type. It represents an object suitable for input into a sefraModel model run."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sefra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/run_model.html">Run SEFRA model</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sefra-seabirds/sefra/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Class containing input data for model run</h1>
      <small class="dont-index">Source: <a href="https://github.com/sefra-seabirds/sefra/blob/HEAD/R/sefraData-class.R" class="external-link"><code>R/sefraData-class.R</code></a>, <a href="https://github.com/sefra-seabirds/sefra/blob/HEAD/R/sefraData.R" class="external-link"><code>R/sefraData.R</code></a></small>
      <div class="d-none name"><code>sefraData-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is an S4 object that extends the <code>list</code> base type. It represents an object suitable for input into a <code><a href="sefraModel-class.html">sefraModel</a></code> model run.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sefraData</span><span class="op">(</span><span class="va">species_codes</span>, <span class="va">name</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-species-codes">species_codes<a class="anchor" aria-label="anchor" href="#arg-species-codes"></a></dt>
<dd><p>character vector of species codes (must be one of <code><a href="species.html">species</a></code>) or capture codes (must be one of <code><a href="codes.html">codes</a></code>).</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>optional character argument to identify the data. This is useful when conducting multipler model runs with different data sets. The identifier should correspond to the complete set of data, i.e. any changes to the data stored in an <code>sefraData</code> object should result in an new <code>identifier</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional function arguments (not used).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing the following information.</p>
<p>Identifier:</p><dl><dt><code>name</code></dt>
<dd><p>Data definition e.g. 'reference'</p></dd>


</dl><p>Dimensions and structural data:</p><dl><dt><code>species</code></dt>
<dd><p>Ordered character vector of species codes (<code><a href="species.html">species</a></code>).</p></dd>

  <dt><code>codes</code></dt>
<dd><p>Ordered character vector of capture codes (<code><a href="codes.html">codes</a></code>).</p></dd>

  <dt><code>species_names</code></dt>
<dd><p>Data frame of species names.</p></dd>

  <dt><code>species_groups</code></dt>
<dd><p>Character vector of species groups.</p></dd>

  <dt><code>fishery_groups</code></dt>
<dd><p>Character vector of fishery groups.</p></dd>

  <dt><code>id_species</code></dt>
<dd><p>Integer vector of species id values from 1 to 25.</p></dd>

  <dt><code>id_codes</code></dt>
<dd><p>Integer vector of capture code id values from 1 to 40.</p></dd>

  <dt><code>id_species_groups</code></dt>
<dd><p>Integer vector of species group id values.</p></dd>

  <dt><code>id_fishery_groups</code></dt>
<dd><p>Integer vector of fishery group id values.</p></dd>

  <dt><code>n_species</code></dt>
<dd><p>Number of species in risk assessment.</p></dd>

  <dt><code>n_codes</code></dt>
<dd><p>Number of capture codes in risk assessment.</p></dd>

  <dt><code>n_species_groups</code></dt>
<dd><p>Number of species groups.</p></dd>

  <dt><code>n_fishery_groups</code></dt>
<dd><p>Number of fishery groups.</p></dd>


</dl><p>Mapping matrices:</p><dl><dt><code>species_to_code</code></dt>
<dd><p>Map of species codes to capture codes.</p></dd>

  <dt><code>code_to_code</code></dt>
<dd><p>Map of captures codes to capture codes.</p></dd>


</dl><p>Look-up vectors:</p><dl><dt><code>code_resolution</code></dt>
<dd><p>Taxonomic resolution per code</p></dd>

  <dt><code>reduce_species</code></dt>
<dd><p>Reduction from full list of species to list used in risk assessment.</p></dd>

  <dt><code>reduce_codes</code></dt>
<dd><p>Reduction from full list of capture codes to list used in risk assessment.</p></dd>


</dl><p>Cryptic capture multipliers:</p><dl><dt><code>cryptic_capture_type</code></dt>
<dd><p>Distribution for the longline cryptic capture multiplier per species group and fishery group. Currently only the <code>log-normal</code> distribution is allowed.</p></dd>

  <dt><code>cryptic_capture_par</code></dt>
<dd><p>Distribution parameters for the longline cryptic capture multipliers.</p></dd>


</dl><p>Biological data:</p><dl><dt><code>n_breeding_pairs_type</code> and <code>n_breeding_pairs_par</code></dt>
<dd><p>Distribution type and parameters for the number of breeding pairs per species \(N^{BP}_s\).</p></dd>

  <dt><code>adult_survival_type</code> and <code>adult_survival_par</code></dt>
<dd><p>Distribution type and parameters for optimum adult survival per species \(S^{opt}_s\).</p></dd>

  <dt><code>p_breeding_type</code> and <code>p_breeding_par</code></dt>
<dd><p>Distribution type and parameters for probability of breeding per species \(P^{B}_s\).</p></dd>

  <dt><code>age_breeding_type</code> and <code>age_breeding_par</code></dt>
<dd><p>Distribution type and parameters for age at first breeding per species \(A^{curr}_s\).</p></dd>

  <dt><code>p_nest</code></dt>
<dd><p>Probability of being on nest per species per month.</p></dd>

  <dt><code>p_southern</code></dt>
<dd><p>Probability of being in the southern hemisphere per species per month.</p></dd>


</dl><p>Captures data frame:</p><dl><dt><code>n_k</code></dt>
<dd><p>Number of records.</p></dd>

  <dt><code>month_k</code></dt>
<dd><p>Month id per record.</p></dd>

  <dt><code>code_k</code></dt>
<dd><p>Capture code id per record.</p></dd>

  <dt><code>fishery_group_k</code></dt>
<dd><p>Fishery group id per record.</p></dd>

  <dt><code>captures_k</code></dt>
<dd><p>Number of captures per record.</p></dd>

  <dt><code>captures_live_k</code></dt>
<dd><p>Number of live captures.</p></dd>

  <dt><code>n_year_k</code></dt>
<dd><p>Number of years of capture data.</p></dd>


</dl><p>Observed overlap data frame:</p><dl><dt><code>n_i</code></dt>
<dd><p>Number of records.</p></dd>

  <dt><code>month_i</code></dt>
<dd><p>Month id per record.</p></dd>

  <dt><code>species_i</code></dt>
<dd><p>Species id per record.</p></dd>

  <dt><code>species_group_i</code></dt>
<dd><p>Species group id per record.</p></dd>

  <dt><code>fishery_group_i</code></dt>
<dd><p>Fishery group id per record.</p></dd>

  <dt><code>overlap_i</code></dt>
<dd><p>Overlap per record.</p></dd>

  <dt><code>n_year_i</code></dt>
<dd><p>Number of years of observed overlap data.</p></dd>


</dl><dl><dt><code>n_j</code></dt>
<dd><p>Number of records.</p></dd>

  <dt><code>month_j</code></dt>
<dd><p>Month id per record.</p></dd>

  <dt><code>cell_j</code></dt>
<dd><p>Cell id per record.</p></dd>

  <dt><code>species_j</code></dt>
<dd><p>Species id per record.</p></dd>

  <dt><code>species_group_j</code></dt>
<dd><p>Species group id per record.</p></dd>

  <dt><code>fishery_group_j</code></dt>
<dd><p>Fishery group id per record.</p></dd>

  <dt><code>overlap_j</code></dt>
<dd><p>Overlap per record.</p></dd>

  <dt><code>n_year_j</code></dt>
<dd><p>Number of years of commercial overlap data.</p></dd>


</dl><p>Tuning:</p><dl><dt><code>phi</code></dt>
<dd><p>PST tuning parameter.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>


<dl><dt><code>.Data</code></dt>
<dd><p><code>list</code> containing input data</p></dd>


<dt><code>names</code></dt>
<dd><p>names for each list item</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Species codes (function argument <code>species_codes</code>) should match those listed in <code><a href="species.html">species</a></code> or <code><a href="codes.html">codes</a></code>. If not, then the function will return an error. The object assumes that inputs are species codes unless lower taxonomic codes are included.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Use <code><a href="phi.html">phi</a></code> to set or extract the \(\phi\) value. Use <code><a href="n_breeding_pairs.html">n_breeding_pairs</a></code>, <code><a href="adult_survival.html">adult_survival</a></code>, <code><a href="p_breeding.html">p_breeding</a></code> or <code><a href="age_breeding.html">age_breeding</a></code> to set or extract the corresponding biological distributions (\(N^{BP}_s\), \(S^{opt}_s\), \(P^{B}_s\) and \(A^{curr}_s\) respectively). See <code><a href="distributions.html">distributions</a></code> for the statistical distributions recognised by the risk assessment model. Use <code><a href="cryptic_capture.html">cryptic_capture</a></code> to set or extract cryptic capture multipliers for the surface longline fishery.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create data object with all contributing species for DGA and DWC capture codes</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">sefraData</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DGA"</span>, <span class="st">"DWC"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> capture codes input: including all contributing species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> constructed 'sefraData' object</span>
<span class="r-in"><span><span class="fu"><a href="species_names.html">species_names</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   code          common_name                    scientific_name    genus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  DIW   Gibson's albatross      Diomedea antipodensis gibsoni Diomedea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  DQS Antipodean albatross Diomedea antipodensis antipodensis Diomedea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  DIX  Wandering albatross                   Diomedea exulans Diomedea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  DBN    Tristan albatross                 Diomedea dabbenena Diomedea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  DAM  Amsterdam albatross            Diomedea amsterdamensis Diomedea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        family code_resolution id_species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Diomedeidae         species          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Diomedeidae         species          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Diomedeidae         species          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Diomedeidae         species          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Diomedeidae         species          5</span>
<span class="r-in"><span><span class="fu"><a href="capture_codes.html">capture_codes</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2 capture codes:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (empty captures data frame)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   code id_code resolution id_resolution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  DGA      26    complex             2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  DWC      32    complex             2</span>
<span class="r-in"><span><span class="co"># create data object with all possible capture codes for DIW and DQS species</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">sefraData</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DIW"</span>, <span class="st">"DQS"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> species codes input: including all species-dependent capture codes</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> constructed 'sefraData' object</span>
<span class="r-in"><span><span class="fu"><a href="species_names.html">species_names</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   code          common_name                    scientific_name    genus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  DIW   Gibson's albatross      Diomedea antipodensis gibsoni Diomedea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  DQS Antipodean albatross Diomedea antipodensis antipodensis Diomedea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        family code_resolution id_species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Diomedeidae         species          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Diomedeidae         species          2</span>
<span class="r-in"><span><span class="fu"><a href="capture_codes.html">capture_codes</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 7 capture codes:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (empty captures data frame)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   code id_code resolution id_resolution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  DIW       1    species             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  DQS       2    species             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  DGA      26    complex             2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  DWC      32    complex             2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  DIZ      34      genus             3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  ALZ      38     family             4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  BLZ      40      class             5</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Charles Edwards, Tom Peatman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

